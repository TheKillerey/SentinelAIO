<Window x:Class="SentinelAIO.Windows.ModTools"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Title="SentinelAIO - Mod Tools" Height="750" Width="1050"
        TextElement.Foreground="{DynamicResource MaterialDesignDarkForeground}"
        TextElement.FontWeight="Medium"
        TextElement.FontSize="14"
        FontFamily="{materialDesign:MaterialDesignFont}">

    <Window.Resources>
        <!-- Style for Hover Effects -->
        <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignFlatDarkButton}">
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1" />
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="1.1" ScaleY="1.1" />
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Background="Black">
        <!-- Darkened and blurred background image -->
        <Grid>
            <Grid.Effect>
                <BlurEffect Radius="3" /> <!-- Adjust the blur radius -->
            </Grid.Effect>
            <Grid.Background>
                <ImageBrush ImageSource="pack://application:,,,/SentinelAIO;component/Images/sentinel_background_2.jpg"
                            Stretch="UniformToFill" Opacity="0.6" />
            </Grid.Background>
        </Grid>

        <materialDesign:Card Background="Transparent">
            <TabControl
                materialDesign:NavigationRailAssist.ShowSelectionBackground="True"
                SnapsToDevicePixels="True"
                Style="{StaticResource MaterialDesignNavigationRailTabControl}"
                Background="Transparent"
                TabStripPlacement="Left">
                <materialDesign:NavigationRailAssist.FloatingContent>
                    <Button
                        Name="GoHomeBtn"
                        Margin="0,0,0,0"
                        Click="GoHomeBtn_OnClick"
                        Style="{StaticResource MaterialDesignFlatDarkButton}">
                        <Button.Content>
                            <materialDesign:PackIcon Width="40" Height="30" Kind="Home" />
                        </Button.Content>
                    </Button>
                </materialDesign:NavigationRailAssist.FloatingContent>
                <TabItem>
                    <TabItem.Header>
                        <StackPanel
                            Width="auto"
                            Height="auto">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                HorizontalAlignment="Center"
                                Kind="Palette" />
                            <TextBlock TextAlignment="Center"
                                       Text="Mod Tools" />
                        </StackPanel>
                    </TabItem.Header>
                    <Grid Margin="20">
                        <!-- Flexible Zeilendefinition -->
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" /> <!-- Für das Button-Grid mit Schatten -->
                            <RowDefinition Height="Auto" /> <!-- Für das Projektordner-Feld -->
                            <RowDefinition Height="Auto" />    <!-- Weitere Inhalte (falls nötig) -->
                            <RowDefinition Height="*" /> <!-- Für das Untere Feld-Feld -->
                        </Grid.RowDefinitions>

                        <!-- Hintergrund mit Schatten -->
                        <Border Grid.Row="0" Margin="10" Background="DarkSlateGray"
                                CornerRadius="10">
                            <Border.Effect>
                                <DropShadowEffect BlurRadius="10" ShadowDepth="3" Color="Black" Opacity="0.5" />
                            </Border.Effect>
                            <Grid Margin="20">
                                <!-- Grid für die Buttons -->
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!-- Ressourcen: Button Style -->
                                <Grid.Resources>
                                    <Style x:Key="CustomButtonStyle" TargetType="Button"
                                           BasedOn="{StaticResource MaterialDesignFlatDarkButton}">
                                        <Setter Property="Background" Value="#7F2E2E2E" />
                                        <!-- Dunkelgrau, 50 % Transparenz -->
                                        <Setter Property="Foreground"
                                                Value="{DynamicResource MaterialDesign.Brush.Primary.Foreground}" />
                                        <Setter Property="BorderThickness" Value="0" />
                                        <Setter Property="Cursor" Value="Hand" />
                                        <Style.Triggers>
                                            <!-- Hover-Effekt -->
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background"
                                                        Value="{DynamicResource PrimaryHueMidBrush}" />
                                                <Setter Property="Foreground" Value="White" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Resources>

                                <!-- Button 1: Map Recolor -->
                                <Button Grid.Row="0" Grid.Column="0"
                                        Margin="10"
                                        MinHeight="120" MinWidth="100"
                                        BorderBrush="LightSeaGreen"
                                        BorderThickness="2"
                                        Command="{Binding OpenLUTFileCommand}"
                                        Style="{StaticResource CustomButtonStyle}"
                                        ToolTip="Load your Map folder and recolor your Map using .cube (LUT) / .png (HALD)">
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                        <materialDesign:PackIcon Width="50" Height="50" Kind="Palette"
                                                                 HorizontalAlignment="Center" />
                                        <TextBlock Text="PROJECT Terrain Shift" HorizontalAlignment="Center"
                                                   FontWeight="Bold" />
                                        <TextBlock Text="Recoloring the map" HorizontalAlignment="Center" FontSize="10"
                                                   FontWeight="Light" />
                                        <materialDesign:PackIcon Margin="0,0,0,0" Width="15" Height="15"
                                                                 Kind="FolderAlert"
                                                                 HorizontalAlignment="Center" Foreground="LightGreen"
                                                                 ToolTip="Map Project Folder needed!" />
                                    </StackPanel>
                                </Button>

                                <!-- Button 2: Mod Creator -->
                                <Button Grid.Row="0" Grid.Column="1"
                                        Margin="10"
                                        MinHeight="120" MinWidth="100"
                                        BorderBrush="LightSeaGreen"
                                        BorderThickness="2"
                                        Command="{Binding GetMapFilesCommand}"
                                        Style="{StaticResource CustomButtonStyle}"
                                        ToolTip="Creates templates for every map.">
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                        <materialDesign:PackIcon Width="50" Height="50" Kind="HammerWrench"
                                                                 HorizontalAlignment="Center" />
                                        <TextBlock Text="PROJECT Architect" HorizontalAlignment="Center"
                                                   FontWeight="Bold" />
                                        <TextBlock Text="Creating map mod templates" HorizontalAlignment="Center"
                                                   FontSize="10" FontWeight="Light" />
                                        <materialDesign:PackIcon Margin="0,0,0,0" Width="15" Height="15"
                                                                 Kind="FolderAlert"
                                                                 HorizontalAlignment="Center" Foreground="LightGreen"
                                                                 ToolTip="Map Project Folder needed!" />
                                    </StackPanel>
                                </Button>

                                <!-- Button 3: Default Map -->
                                <Button Grid.Row="0" Grid.Column="2"
                                        IsEnabled="True"
                                        Margin="10"
                                        MinHeight="120" MinWidth="100"
                                        BorderBrush="LightSeaGreen"
                                        BorderThickness="2"
                                        Command="{Binding SetDefaultMapCommand}"
                                        Style="{StaticResource CustomButtonStyle}"
                                        ToolTip="Set your project to the default map. Example: crepe.mapgeo to base_srx.">
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                        <materialDesign:PackIcon Width="50" Height="50" Kind="Map"
                                                                 HorizontalAlignment="Center" />
                                        <TextBlock Text="Core Simulation" HorizontalAlignment="Center"
                                                   FontWeight="Bold" />
                                        <TextBlock Text="Change map's faster" HorizontalAlignment="Center"
                                                   FontSize="10" FontWeight="Light" />
                                        <materialDesign:PackIcon Margin="0,0,0,0" Width="15" Height="15"
                                                                 Kind="FolderAlert"
                                                                 HorizontalAlignment="Center" Foreground="LightGreen"
                                                                 ToolTip="Map Project Folder needed!" />
                                    </StackPanel>
                                </Button>

                                <!-- Button 4: Default Minions -->
                                <Button Grid.Row="0" Grid.Column="3"
                                        IsEnabled=" True"
                                        Margin="10"
                                        MinHeight="120" MinWidth="100"
                                        BorderBrush="LightSeaGreen"
                                        BorderThickness="2"
                                        Command="{Binding SetDefaultMinionsCommand}"
                                        Style="{StaticResource CustomButtonStyle}"
                                        ToolTip="Set all of your minions to default.">
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                        <materialDesign:PackIcon Width="50" Height="50" Kind="Robot"
                                                                 HorizontalAlignment="Center" />
                                        <TextBlock Text="Synthwave Infantry" HorizontalAlignment="Center"
                                                   FontWeight="Bold" />
                                        <TextBlock Text="Change Champion Skins" HorizontalAlignment="Center"
                                                   FontSize="10" FontWeight="Light" />
                                        <materialDesign:PackIcon Margin="0,0,0,0" Width="15" Height="15"
                                                                 Kind="FolderAlert"
                                                                 HorizontalAlignment="Center" Foreground="LightGreen"
                                                                 ToolTip="Map Project Folder needed!" />
                                    </StackPanel>
                                </Button>

                                <!-- Button 5: Get Particle Textures -->
                                <Button Grid.Row="1" Grid.Column="0"
                                        Margin="10"
                                        MinHeight="120" MinWidth="100"
                                        BorderBrush="LightSeaGreen"
                                        BorderThickness="2"
                                        Command="{Binding RitoPatchFixerCommand}"
                                        Style="{StaticResource CustomButtonStyle}"
                                        ToolTip="If you have a raw particle file, it will extract the related files from the League of Legends folder.">
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                        <materialDesign:PackIcon Width="50" Height="50" Kind="DatabaseSearch"
                                                                 HorizontalAlignment="Center" />
                                        <TextBlock Text="PROJECT Fixer" TextAlignment="Center"
                                                   HorizontalAlignment="Center" FontWeight="Bold" />
                                        <TextBlock Text="Rey's Rito Patch Fixer" HorizontalAlignment="Center"
                                                   FontSize="10" FontWeight="Light" />
                                        <materialDesign:PackIcon Margin="0,0,0,0" Width="15" Height="15"
                                                                 Kind="FolderAlert"
                                                                 HorizontalAlignment="Center" Foreground="LightGreen"
                                                                 ToolTip="Map Project Folder needed!" />
                                    </StackPanel>
                                </Button>

                                <!-- Button 6: RitoImageConverter -->
                                <Button Grid.Row="1" Grid.Column="1"
                                        Margin="10"
                                        MinHeight="120" MinWidth="100"
                                        BorderBrush="LightSeaGreen"
                                        BorderThickness="2"
                                        Command="{Binding FixImageFilesCommand}"
                                        Style="{StaticResource CustomButtonStyle}"
                                        ToolTip="Fixes problems with DDS Compression.">
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                        <materialDesign:PackIcon Width="50" Height="50" Kind="Tools"
                                                                 HorizontalAlignment="Center" />
                                        <TextBlock Text="Protocol: Asset Repair" TextAlignment="Center"
                                                   HorizontalAlignment="Center" FontWeight="Bold" />
                                        <TextBlock Text="Fixing Rito's images (.dds)" HorizontalAlignment="Center"
                                                   FontSize="10" FontWeight="Light" />
                                        <materialDesign:PackIcon Margin="0,0,0,0" Width="15" Height="15"
                                                                 Kind="FolderAlert"
                                                                 HorizontalAlignment="Center" Foreground="LightGreen"
                                                                 ToolTip="Map Project Folder needed!" />
                                    </StackPanel>
                                </Button>

                                <!-- Button 7: Color Picker -->
                                <Button Grid.Row="1" Grid.Column="2"
                                        Margin="10"
                                        MinHeight="120" MinWidth="100"
                                        BorderBrush="LightSeaGreen"
                                        BorderThickness="2"
                                        Command="{Binding RemoveNotNeededTexturesCommand}"
                                        Style="{StaticResource CustomButtonStyle}"
                                        ToolTip="Assists in selecting color values for your map or particles.">
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                        <materialDesign:PackIcon Width="50" Height="50" Kind="RemoveCircle"
                                                                 HorizontalAlignment="Center" />
                                        <TextBlock Text="Rift System Cleanup" HorizontalAlignment="Center"
                                                   TextAlignment="Center" FontWeight="Bold" />
                                        <TextBlock Text="Remove not needed textures" HorizontalAlignment="Center"
                                                   FontSize="10" FontWeight="Light" />
                                        <materialDesign:PackIcon Margin="0,0,0,0" Width="15" Height="15"
                                                                 Kind="FolderAlert"
                                                                 HorizontalAlignment="Center" Foreground="LightGreen"
                                                                 ToolTip="Map Project Folder needed!" />
                                    </StackPanel>
                                </Button>
                                <!-- Button 8: Materials Editor -->
                                <Button Grid.Row="1" Grid.Column="3"
                                        IsEnabled="False"
                                        Margin="10"
                                        MinHeight="120" MinWidth="100"
                                        BorderBrush="LightSeaGreen"
                                        BorderThickness="2"
                                        Command="{Binding MapMaterialEditorCommand}"
                                        Style="{StaticResource CustomButtonStyle}"
                                        ToolTip="Assists in editing the Map Materials file.">
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                        <materialDesign:PackIcon Width="50" Height="50" Kind="MapLegend"
                                                                 HorizontalAlignment="Center" />
                                        <TextBlock Text="Rift System Editor" HorizontalAlignment="Center"
                                                   TextAlignment="Center" FontWeight="Bold" />
                                        <TextBlock Text="Edit Map Materials File" HorizontalAlignment="Center"
                                                   FontSize="10" FontWeight="Light" />
                                        <materialDesign:PackIcon Margin="0,0,0,0" Width="15" Height="15"
                                                                 Kind="FolderAlert"
                                                                 HorizontalAlignment="Center" Foreground="LightGreen"
                                                                 ToolTip="Map Project Folder needed!" />
                                    </StackPanel>
                                </Button>
                                <!-- Button 9: Lol Meta Downloader -->
                                <Button Grid.Row="2" Grid.Column="0"
                                        Margin="10"
                                        MinHeight="120" MinWidth="100"
                                        BorderBrush="LightSeaGreen"
                                        BorderThickness="2"
                                        Command="{Binding ManifestDownloaderCommand}"
                                        Style="{StaticResource CustomButtonStyle}"
                                        ToolTip="Assists in editing the Map Materials file.">
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                        <materialDesign:PackIcon Width="50" Height="50" Kind="Download"
                                                                 HorizontalAlignment="Center" />
                                        <TextBlock Text="Manifest Downloader" HorizontalAlignment="Center"
                                                   TextAlignment="Center" FontWeight="Bold" />
                                        <TextBlock Text="Download Patch Files from LoL" HorizontalAlignment="Center"
                                                   FontSize="10" FontWeight="Light" />
                                        <materialDesign:PackIcon Margin="0,0,0,0" Width="15" Height="15"
                                                                 Kind="FolderAlert"
                                                                 HorizontalAlignment="Center" Foreground="LightGreen"
                                                                 ToolTip="Map Project Folder needed!" />
                                    </StackPanel>
                                </Button>
                            </Grid>
                        </Border>

                        <!-- Neuer Bereich für "Add League Project Folder" -->
                        <Grid Grid.Row="1" Margin="0">
                            <!-- Neues Grid für Text + TextBox + Button -->
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" /> <!-- Für die Überschrift -->
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" /> <!-- Für die TextBox und den Button -->
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="3*" /> <!-- TextBox nimmt mehr Platz ein -->
                                <ColumnDefinition Width="1*" /> <!-- Button ist kompakter -->
                            </Grid.ColumnDefinitions>

                            <!-- Überschrift -->
                            <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Margin="0,10,0,10"
                                        HorizontalAlignment="Left">
                                <materialDesign:PackIcon Margin="0,0,0,0" Width="35" Height="35" Kind="Folder"
                                                         HorizontalAlignment="Left" Foreground="LightGreen" />
                                <!-- Haupttext -->
                                <TextBlock Text="Add Map Project Folder"
                                           FontSize="16"
                                           FontWeight="Bold"
                                           Foreground="{DynamicResource PrimaryHueMidBrush}" />
                                <!-- Zusätzlicher Text (Klammer-Teil) -->
                                <TextBlock Text="(Correct: D:\Mods\OldRift\ | Wrong: D:\Mods\OldRift\Map11)"
                                           FontSize="12"
                                           FontWeight="UltraLight"
                                           Foreground="{DynamicResource MaterialDesign.Brush.Primary.Foreground}" />
                            </StackPanel>

                            <!-- TextBox zur Eingabe des Ordners -->
                            <TextBox Grid.Row="1" Grid.Column="0"
                                     Name="ProjectFolder"

                                     Margin="5"
                                     VerticalAlignment="Center"
                                     Height="40"
                                     Style="{StaticResource MaterialDesignTextBox}"
                                     Text="{Binding ProjectFolderPath, UpdateSourceTrigger=PropertyChanged}" />

                            <!-- Button zum Hinzufügen -->
                            <Button Grid.Row="1" Grid.Column="1"
                                    Margin="5"
                                    VerticalAlignment="Center"
                                    Height="30"
                                    Width="100"
                                    Content="Add"
                                    Style="{StaticResource MaterialDesignFlatButton}"
                                    Command="{Binding AddMapCommand}"
                                    ToolTip="Add the project folder to your configuration." />


                        </Grid>
                        <StackPanel Grid.Row="2" Grid.Column="0" HorizontalAlignment="Left">
                            <!-- TextBlock to display the current file being processed -->
                            <TextBlock x:Name="UpdateHashesText"
                                       Text="{Binding CurrentFileInfo, PresentationTraceSources.TraceLevel=High}"
                                       Style="{StaticResource MaterialDesignTextBlock}"
                                       Visibility="{Binding VisibilityProgressbar}" />

                            <!-- ProgressBar to show the progress of file export -->
                            <ProgressBar x:Name="DownloadProgressBar"
                                         Height="10"
                                         Width="200"
                                         HorizontalAlignment="Left"
                                         Value="{Binding CurrentProgress}"
                                         Maximum="{Binding TotalFiles}"
                                         IsIndeterminate="{Binding IsIndeterminate}"
                                         Visibility="{Binding VisibilityProgressbar}"
                                         Style="{StaticResource MaterialDesignLinearProgressBar}" />
                            <!-- Progress Percentage Text -->
                            <TextBlock HorizontalAlignment="Left"
                                       Margin="5,5,0,0"
                                       FontSize="14"
                                       Text="{Binding ProgressBarPercentage, StringFormat={}{0:F2}%}"
                                       Foreground="{DynamicResource PrimaryHueMidBrush}"
                                       Visibility="{Binding VisibilityProgressbar}" />
                        </StackPanel>
                    </Grid>
                </TabItem>
                <TabItem IsEnabled="True">
                    <TabItem.Header>
                        <StackPanel
                            Width="auto"
                            Height="auto">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                HorizontalAlignment="Center"
                                Kind="FileTree" />
                            <TextBlock TextAlignment="Center"
                                       Text="Mesh&#x0a;Editor" />
                        </StackPanel>
                    </TabItem.Header>
                    <Grid Margin="16">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" /> <!-- Row for the Import / Export Buttons -->
                            <RowDefinition Height="*" />   <!-- Row for TreeView and Settings -->
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />  <!-- TreeView Section -->
                            <ColumnDefinition Width="2*" /> <!-- Settings Section -->
                        </Grid.ColumnDefinitions>

                        <!-- Import / Export Button -->
                        <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.ColumnSpan="2"
                                    HorizontalAlignment="Right" Margin="0,8,0,16">
                            <Button Content="Import" Margin="4" Width="100"
                                    Style="{StaticResource MaterialDesignFlatButton}"
                                    Command="{Binding OpenMapGeoCommand}"
                                    ToolTip="Import new meshes into the tree." />
                            <Button Content="Export" Margin="4" Width="100"
                                    Style="{StaticResource MaterialDesignFlatButton}"
                                    Command="{Binding ExportCommand}"
                                    ToolTip="Export mesh settings to an external file." />
                        </StackPanel>

                        <!-- TreeView for Meshes -->
                        <ScrollViewer Grid.Row="1" Grid.Column="0" Margin="16" VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Auto"
                                      Background="{DynamicResource MaterialDesignPaper}">
                            <TreeView ItemsSource="{Binding MeshNames}" BorderThickness="0.5"
                                      Background="DarkSlateGray"
                                      SelectedItemChanged="TreeView_SelectedItemChanged">
                                <TreeView.ItemTemplate>
                                    <HierarchicalDataTemplate>
                                        <TextBlock Text="{Binding}" />
                                    </HierarchicalDataTemplate>
                                </TreeView.ItemTemplate>
                            </TreeView>
                        </ScrollViewer>

                        <!-- Settings for Selected Mesh -->
                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="16">
                            <TextBlock Text="Mesh Settings" FontSize="16" FontWeight="Bold"
                                       Foreground="{DynamicResource PrimaryHueMidBrush}" Margin="0,0,0,10" />
                            <TextBlock Text="Name:" Foreground="White" />
                            <TextBox Height="40" Margin="0,5,0,10" Text="{Binding SelectedMeshName, Mode=TwoWay}"
                                     Style="{StaticResource MaterialDesignTextBoxBase}" />
                            <TextBlock Text="Position:" Foreground="White" />
                            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                                <TextBlock Text="X:" Foreground="White" Margin="0,0,5,0" />
                                <TextBox Width="50" Height="40" Margin="0,0,10,0"
                                         Text="{Binding SelectedMeshPositionX}"
                                         Style="{StaticResource MaterialDesignTextBoxBase}" />
                                <TextBlock Text="Y:" Foreground="White" Margin="0,0,5,0" />
                                <TextBox Width="50" Height="40" Margin="0,0,10,0"
                                         Text="{Binding SelectedMeshPositionY}"
                                         Style="{StaticResource MaterialDesignTextBoxBase}" />
                                <TextBlock Text="Z:" Foreground="White" Margin="0,0,5,0" />
                                <TextBox Width="50" Height="40" Margin="0,0,10,0"
                                         Text="{Binding SelectedMeshPositionZ}"
                                         Style="{StaticResource MaterialDesignTextBoxBase}" />
                            </StackPanel>
                            <TextBlock Text="Scale:" Foreground="White" />
                            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                                <TextBlock Text="X:" Foreground="White" Margin="0,0,5,0" />
                                <TextBox Width="50" Height="40" Margin="0,0,10,0" Text="{Binding SelectedMeshScaleX}"
                                         Style="{StaticResource MaterialDesignTextBoxBase}" />
                                <TextBlock Text="Y:" Foreground="White" Margin="0,0,5,0" />
                                <TextBox Width="50" Height="40" Margin="0,0,10,0" Text="{Binding SelectedMeshScaleY}"
                                         Style="{StaticResource MaterialDesignTextBoxBase}" />
                                <TextBlock Text="Z:" Foreground="White" Margin="0,0,5,0" />
                                <TextBox Width="50" Height="40" Margin="0,0,10,0" Text="{Binding SelectedMeshScaleZ}"
                                         Style="{StaticResource MaterialDesignTextBoxBase}" />
                            </StackPanel>
                            <TextBlock Text="Rotation:" Foreground="White" />
                            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                                <TextBlock Text="X:" Foreground="White" Margin="0,0,5,0" />
                                <TextBox Width="50" Height="40" Margin="0,0,10,0"
                                         Text="{Binding SelectedMeshRotationX}"
                                         Style="{StaticResource MaterialDesignTextBoxBase}" />
                                <TextBlock Text="Y:" Foreground="White" Margin="0,0,5,0" />
                                <TextBox Width="50" Height="40" Margin="0,0,10,0"
                                         Text="{Binding SelectedMeshRotationY}"
                                         Style="{StaticResource MaterialDesignTextBoxBase}" />
                                <TextBlock Text="Z:" Foreground="White" Margin="0,0,5,0" />
                                <TextBox Width="50" Height="40" Margin="0,0,10,0"
                                         Text="{Binding SelectedMeshRotationZ}"
                                         Style="{StaticResource MaterialDesignTextBoxBase}" />
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </TabItem>
                <TabItem IsEnabled="True">
                    <TabItem.Header>
                        <StackPanel
                            Width="auto"
                            Height="auto">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                HorizontalAlignment="Center"
                                Kind="Update" />
                            <TextBlock TextAlignment="Center"
                                       Text="Mod&#x0a;Updater" />
                        </StackPanel>

                    </TabItem.Header>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                        </Grid.RowDefinitions>

                        <Button Grid.Row="0"
                                Margin="10"
                                Command="{Binding OpenModFileCommand}"
                                Style="{StaticResource MaterialDesignFloatingActionDarkButton}"
                                HorizontalAlignment="Left"
                                ToolTip="Load Mod File">
                            <materialDesign:PackIcon
                                Width="30"
                                Height="30"
                                Kind="Plus" />
                        </Button>
                        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="10">
                            <ItemsControl ItemsSource="{Binding ModInfos}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Margin="5" Padding="4"
                                                Background="{DynamicResource PrimaryHueDarkBrush}" CornerRadius="8">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" /> <!-- For Thumbnail -->
                                                    <ColumnDefinition Width="*" />   <!-- For Buttons -->
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="170" /> <!-- Thumbnail and Info -->
                                                    <RowDefinition />
                                                    <!-- Placeholder for any additional expansion -->
                                                </Grid.RowDefinitions>

                                                <!-- Thumbnail and Info -->
                                                <StackPanel Orientation="Vertical" Grid.Column="0"
                                                            VerticalAlignment="Top">
                                                    <!-- Thumbnail with Drop Shadow -->
                                                    <Image Source="{Binding RouteImage}" Height="100" Width="193"
                                                           Stretch="Uniform" Margin="10" HorizontalAlignment="Center">
                                                        <Image.Effect>
                                                            <DropShadowEffect Color="Black"
                                                                              BlurRadius="10"
                                                                              ShadowDepth="5"
                                                                              Opacity="0.5" />
                                                        </Image.Effect>
                                                    </Image>

                                                    <!-- Info below thumbnail -->
                                                    <StackPanel Orientation="Vertical" Width="293" Height="60"
                                                                Margin="0,-5,0,0" HorizontalAlignment="Center">
                                                        <!-- Name -->
                                                        <TextBlock Text="{Binding Name}" FontWeight="Bold"
                                                                   FontSize="12" Foreground="White"
                                                                   TextAlignment="Center" TextWrapping="Wrap"
                                                                   HorizontalAlignment="Center"
                                                                   VerticalAlignment="Center" />

                                                        <!-- Author -->
                                                        <TextBlock Text="{Binding Author}" FontWeight="Medium"
                                                                   FontSize="10" Foreground="White"
                                                                   TextAlignment="Center" TextWrapping="Wrap"
                                                                   HorizontalAlignment="Center"
                                                                   VerticalAlignment="Center" />

                                                        <!-- Version -->
                                                        <TextBlock Text="{Binding Version}" FontWeight="Light"
                                                                   FontSize="10" Foreground="White"
                                                                   TextAlignment="Center" TextWrapping="Wrap"
                                                                   HorizontalAlignment="Center"
                                                                   VerticalAlignment="Center" />
                                                    </StackPanel>
                                                </StackPanel>

                                                <!-- Buttons (aligned to the right of the thumbnail) -->
                                                <StackPanel Orientation="Horizontal" Grid.Column="1"
                                                            VerticalAlignment="Center" HorizontalAlignment="Left"
                                                            Margin="20,0,0,0">
                                                    <!-- Description Button -->
                                                    <Button
                                                        Style="{StaticResource MaterialDesignFloatingActionDarkButton}"
                                                        Command="{Binding ShowDescriptionCommand}" Margin="10"
                                                        ToolTip="View mod description">
                                                        <materialDesign:PackIcon Kind="InformationOutline" Width="30"
                                                            Height="30" />
                                                    </Button>

                                                    <!-- Heart (Favorite) Button -->
                                                    <Button
                                                        Style="{StaticResource MaterialDesignFloatingActionDarkButton}"
                                                        Command="{Binding ToggleHeartCommand}" Margin="10"
                                                        ToolTip="Add or remove from favorites">
                                                        <materialDesign:PackIcon Kind="HeartOutline" Width="30"
                                                            Height="30" />
                                                    </Button>

                                                    <!-- Home Page Button -->
                                                    <Button
                                                        Style="{StaticResource MaterialDesignFloatingActionDarkButton}"
                                                        Command="{Binding OpenHomePageCommand}" Margin="10"
                                                        ToolTip="Visit the mod's home page">
                                                        <materialDesign:PackIcon Kind="HomeOutline" Width="30"
                                                            Height="30" />
                                                    </Button>

                                                    <!-- Update Button -->
                                                    <Button
                                                        Style="{StaticResource MaterialDesignFloatingActionDarkButton}"
                                                        Command="{Binding UpdateModCommand}"
                                                        CommandParameter="{Binding}" Margin="10"
                                                        ToolTip="Update the mod files">
                                                        <materialDesign:PackIcon Kind="Update" Width="30" Height="30" />
                                                    </Button>

                                                    <!-- Send to CS-Manager Button -->
                                                    <Button
                                                        Style="{StaticResource MaterialDesignFloatingActionDarkButton}"
                                                        Command="{Binding SendToCSManagerCommand}" Margin="10"
                                                        ToolTip="Send this mod to CS-Manager">
                                                        <materialDesign:PackIcon Kind="Send" Width="30" Height="30" />
                                                    </Button>
                                                </StackPanel>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </Grid>
                </TabItem>
                <TabItem IsEnabled="True">
                    <TabItem.Header>

                        <StackPanel
                            Width="auto"
                            Height="auto">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                HorizontalAlignment="Center"
                                Kind="Matrix" />
                            <TextBlock TextAlignment="Center"
                                       Text="Matrix&#x0a;Helper" />
                        </StackPanel>
                    </TabItem.Header>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" /> <!-- Top Section -->
                            <RowDefinition Height="*" /> <!-- Bottom Section -->
                        </Grid.RowDefinitions>


                        <Grid Grid.Row="0" Background="{DynamicResource PrimaryHueDarkBrush}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" /> <!-- Euler Abschnitt -->
                                <RowDefinition Height="Auto" /> <!-- Matrix44 Abschnitt -->
                                <RowDefinition Height="*" />    <!-- Platz für zusätzliche Inhalte -->
                                <RowDefinition Height="50" />   <!-- Footer / Version -->
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />  <!-- Flexible Spalte -->
                                <ColumnDefinition Width="Auto" />  <!-- Flexible Spalte -->
                                <ColumnDefinition Width="*" />  <!-- Flexible Spalte -->
                            </Grid.ColumnDefinitions>


                            <!-- Euler Section -->
                            <StackPanel Orientation="Vertical" Width="600" Grid.Column="0" Grid.Row="0"
                                        Margin="10,10,0,0"
                                        HorizontalAlignment="Left" VerticalAlignment="Top">
                                <TextBlock Text="Maya Translate:" Foreground="White" Margin="0,0,0,10" />
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="X:" Foreground="White" Margin="0,0,10,0" />
                                    <TextBox x:Name="TransX" Width="150" Height="40"
                                             Style="{DynamicResource MaterialDesignTextBoxBase}"
                                             Text="{Binding TransXInput, StringFormat=F8}" Margin="0,0,10,10" />
                                    <TextBlock Text="Y:" Foreground="White" Margin="0,0,10,0" />
                                    <TextBox x:Name="TransY" Width="150" Height="40"
                                             Style="{StaticResource MaterialDesignTextBoxBase}"
                                             Text="{Binding TransYInput, StringFormat=F8}" Margin="0,0,10,10" />
                                    <TextBlock Text="Z:" Foreground="White" Margin="0,0,10,0" />
                                    <TextBox x:Name="TransZ" Width="150" Height="40"
                                             Style="{StaticResource MaterialDesignTextBoxBase}"
                                             Text="{Binding TransZInput, StringFormat=F8}" Margin="0,0,10,10" />
                                </StackPanel>
                                <TextBlock Text="Maya Scale:" Foreground="White" Margin="0,0,0,10" />
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="X:" Foreground="White" Margin="0,0,10,0" />
                                    <TextBox x:Name="ScaleX" Width="150" Height="40"
                                             Style="{StaticResource MaterialDesignTextBoxBase}"
                                             Text="{Binding ScaleXInput, StringFormat=F8}" Margin="0,0,10,10" />
                                    <TextBlock Text="Y:" Foreground="White" Margin="0,0,10,0" />
                                    <TextBox x:Name="ScaleY" Width="150" Height="40"
                                             Style="{StaticResource MaterialDesignTextBoxBase}"
                                             Text="{Binding ScaleYInput, StringFormat=F8}" Margin="0,0,10,10" />
                                    <TextBlock Text="Z:" Foreground="White" Margin="0,0,10,0" />
                                    <TextBox x:Name="ScaleZ" Width="150" Height="40"
                                             Style="{StaticResource MaterialDesignTextBoxBase}"
                                             Text="{Binding ScaleZInput, StringFormat=F8}" Margin="0,0,10,10" />
                                </StackPanel>
                                <TextBlock Text="Maya Rotation:" Foreground="White" Margin="0,0,0,10" />
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="X:" Foreground="White" Margin="0,0,10,0" />
                                    <TextBox x:Name="RotX" Width="150" Height="40"
                                             Style="{StaticResource MaterialDesignTextBoxBase}"
                                             Text="{Binding RotXInput, StringFormat=F8}" Margin="0,0,10,10" />
                                    <TextBlock Text="Y:" Foreground="White" Margin="0,0,10,0" />
                                    <TextBox x:Name="RotY" Width="150" Height="40"
                                             Style="{StaticResource MaterialDesignTextBoxBase}"
                                             Text="{Binding RotYInput, StringFormat=F8}" Margin="0,0,10,10" />
                                    <TextBlock Text="Z:" Foreground="White" Margin="0,0,10,0" />
                                    <TextBox x:Name="RotZ" Width="150" Height="40"
                                             Style="{StaticResource MaterialDesignTextBoxBase}"
                                             Text="{Binding RotZInput, StringFormat=F8}" Margin="0,0,10,10" />
                                </StackPanel>

                            </StackPanel>


                            <!-- Matrix44 Section -->
                            <StackPanel Orientation="Vertical" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left"
                                        VerticalAlignment="Top" Margin="10,10,00,0">
                                <TextBlock Text="League of Legends Matrix44" Foreground="White" Margin="00,0,0,10" />
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                    </Grid.ColumnDefinitions>
                                    <!-- First Row -->
                                    <StackPanel Orientation="Horizontal" Grid.Row="0">
                                        <TextBlock Text="M11:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M11" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M11Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M12:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M12" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M12Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M13:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M13" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M13Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M14:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M14" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M14Input, StringFormat=F8}" Margin="10,0,10,10" />
                                    </StackPanel>
                                    <!-- Second Row -->
                                    <StackPanel Orientation="Horizontal" Grid.Row="1">
                                        <TextBlock Text="M21:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M21" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M21Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M22:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M22" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M22Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M23:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M23" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M23Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M24:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M24" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M24Input, StringFormat=F8}" Margin="10,0,10,10" />
                                    </StackPanel>
                                    <!-- Third Row -->
                                    <StackPanel Orientation="Horizontal" Grid.Row="2">
                                        <TextBlock Text="M31:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M31" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M31Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M32:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M32" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M32Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M33:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M33" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M33Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M34:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M34" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M34Input, StringFormat=F8}" Margin="10,0,10,10" />
                                    </StackPanel>
                                    <!-- Fourth (Last) Row -->
                                    <StackPanel Orientation="Horizontal" Grid.Row="3">
                                        <TextBlock Text="M41:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M41" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M41Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M42:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M42" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M42Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M43:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M43" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M43Input, StringFormat=F8}" Margin="10,0,10,10" />

                                        <TextBlock Text="M44:" Foreground="White" Margin="0,0,10,0" />
                                        <TextBox x:Name="M44" Width="150" Height="40"
                                                 Style="{StaticResource MaterialDesignTextBoxBase}"
                                                 Text="{Binding M44Input, StringFormat=F8}" Margin="10,0,10,10" />
                                    </StackPanel>
                                </Grid>
                            </StackPanel>

                        </Grid>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />  <!-- Flexible Spalte -->
                                <ColumnDefinition Width="Auto" />  <!-- Flexible Spalte -->
                            </Grid.ColumnDefinitions>
                            <TextBlock HorizontalAlignment="Left" Margin="10,28,0,0" Grid.Row="0" Grid.Column="0"
                                       TextWrapping="Wrap" Text="Paste your League Matrix here same as the hint:"
                                       VerticalAlignment="Top" />
                            <TextBox
                                Grid.Row="0"
                                Grid.Column="0"
                                Height="140"
                                MinWidth="280"
                                materialDesign:HintAssist.Hint="transform: mtx44 = {&#x0a;1, 0, 0, 0&#x0a;0, 1, 0, 0&#x0a;0, 0, 1, 0&#x0a;1827.10999, 149.139999, 6302.22021, 1&#x0a;}"
                                AcceptsReturn="True"
                                SpellCheck.IsEnabled="False"
                                Text=""
                                TextWrapping="Wrap"
                                VerticalScrollBarVisibility="Auto"
                                Margin="10,48,0,0"
                                VerticalAlignment="Top"
                                HorizontalAlignment="Left"
                                Style="{StaticResource MaterialDesignTextBox}" Width="377">
                                <b:Interaction.Triggers>
                                    <b:EventTrigger EventName="TextChanged">
                                        <b:InvokeCommandAction Command="{Binding UpdateMatrixCommand}"
                                                               CommandParameter="{Binding Text, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=TextBox}}" />
                                    </b:EventTrigger>
                                </b:Interaction.Triggers>
                            </TextBox>
                            <TextBlock HorizontalAlignment="Left" Margin="10,28,0,0" Grid.Row="0" Grid.Column="1"
                                       TextWrapping="Wrap" Text="Output:" VerticalAlignment="Top" />
                            <TextBox
                                Name="OutputTb"
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="140"
                                MinWidth="280"
                                materialDesign:HintAssist.Hint="Copy this!"
                                AcceptsReturn="True"
                                SpellCheck.IsEnabled="False"
                                Text="{Binding MatrixData}"
                                TextWrapping="Wrap"
                                VerticalScrollBarVisibility="Auto"
                                Margin="10,48,0,0"
                                VerticalAlignment="Top"
                                HorizontalAlignment="Left"
                                Style="{StaticResource MaterialDesignTextBox}" IsReadOnly="True" Width="377" />
                            <Button Name="CopyBtn" Click="CopyBtn_OnClick" Grid.Column="1" Content="COPY"
                                    HorizontalAlignment="Left" Margin="392,159,0,0" Grid.Row="0"
                                    VerticalAlignment="Top"
                                    Height="29" Width="92" Style="{StaticResource MaterialDesignPaperDarkButton}" />
                        </Grid>
                    </Grid>
                </TabItem>


            </TabControl>
        </materialDesign:Card>
    </Grid>

</Window>